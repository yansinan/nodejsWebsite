<!DOCTYPE html>
<html class="{{pageType}}">

<head>
    {% header adaptor="ie" %}

    <!-- 引入组件库 -->
    <!-- Production version -->
    {# <script src="https://unpkg.com/@popperjs/core@2"></script> #}
    {# <script src="https://cdn.bootcdn.net/ajax/libs/popper.js/2.6.0/umd/popper.min.js"></script> #}
    {# <script src="https://unpkg.com/better-scroll@latest/dist/better-scroll.js"></script> #}
    {# betterScroll #}
    {% plugin name="popper twitter-bootstrap font-awesome betterScroll" %}
    {% endplugin %}
    {# 模块 #}
    {% from "./public/compNavAvatar.html" import navAvatar %}
    {% from "./public/compContainerList.html" import containerOfList %}
    {% from "./public/compListTags.html" import listTags %}
    {% from "./public/compTimelineBar.html" import timelineBar %}
    {% from "./public/compTimelineBar.html" import timelineBarDocs %}
    <!-- 二次开发静态资源 -->
    {% assets 'default.css header.css footer.css artist.css dora.front.js white.css avatar.css timeline.css utils.css' %}
    {% endassets %}

    {% endheader %}

    <input type="hidden" value="{{lsk}}" id="sysKeys">
    <script>
        {# import BScroll from '@better-scroll/core' #}
        {# BScroll.use(MouseWheel) #}
        {# BScroll.use(Slide) #}

        {# BScroll.use(NestedScroll) #}
    </script>
</head>

<body class="flex">
    {# 各种浮动层 #}
    {% include "./public/overlay.html" %}
    {# 整屏容器 #}
    {% include "./public/header.html" %}
    {# mainpage大红标题 scroll#}
    {% block cover %}
        <div id="mainCover" class="">
            <div class="w-100 heightNav"></div>
            {# scroll #}
            <div class="bs-wrapper-cover heightMain">
                <div class="bs-content d-flex flex-column px-0  bg-transparent text-dark">
                    {# 横滚乐队名 #}
                    {% include './public/compBSArtists.html' %}
                    {# 空容器 #}
                    {# <div class="container-fluid bg-transparent  position-relative " style="min-height:100vh;z-index:-100;"> #}
                    {# </div> #}

                    {# 时间轴内容区 #}
                    {% include './public/compBSTimeline.html' %}
                </div>
                <script>
                    this.slideCover=new BetterScroll.createBScroll('.bs-wrapper-cover', {
                        //specifiedIndexAsContent:1,
                        disableMouse: false,
                        disableTouch: false,
                        scrollX: false,
                        scrollY: true,
                        mouseWheel: {
                            speed: 20,
                            invert: false,
                            easeTime: 300
                        },
                        nestedScroll: {
                            groupId: 'cover-scrollY'
                        },
                        slide: {
                            threshold: 0.3,
                            loop: false,
                            autoplay:false,
                            listenFlick:false,
                        },
                        useTransition: true,
                        momentum: false,
                        bounce: false,
                        stopPropagation: false,
                        probeType: 3,
                    
                    })
                    {# //初始化slideCover后隐藏Cover，后面再判断是否显示 #}
                    {# $('.bs-wrapper-cover').hide(); #}
                    
                    this.slideCover.on('slideWillChange', (page) => {
                        {# 导航更新 #}
                        this.header.funSetNav(this.header.strAliasNav || "timeline");
                        //$('.bs-wrapper-cover').hide();
                        {# // currentPageIndex = page.pageX #}
                    })
                </script>
            </div>
        </div>
        

    {% endblock %}
    {# <div class="mainbody" id="{{pageType}}" style="width:100%;max-width:1199px;"> #}
    <div class="container-fluid position-absolute w-100 top-0" id="{{pageType}}">
        <input type="hidden" value="{{site.lang}}" id="siteLang">
        {# 主框架  #}
        {# 上下slide #}
        
        {# 主框架 --end #}
        {# 
        {% block navAvatar %}
            <div class="col-auto">
                {{navAvatar(listAvatars,128)}}
            </div>
        {% endblock %} 
        #}
    </div>
    {% block footer %}
        {% include "./public/footer.html" %}
    {% endblock %}
    

    {# #}


     

</body>

</html>
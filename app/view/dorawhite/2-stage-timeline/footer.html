{% extends "../public/footer.html" %} 
{% block footerUp %}
    <div class="timelineContainer border-top border-dark">
        <div class="timelineLeft timelineLeft-md">

        </div>
        <div class="timelineMain">
            <div id="scrollbarTimeLine" class="d-none" style="overflow:visible;height:0px;">
                <div class="border-4 border-start border-dark" style="width:10px;height:105px;background-color:#52FF00;opacity: 1;"></div>
            </div>

            <div id="bsTimelineBarWrapper" class="timelineBar d-flex"> 
                <div class="bsTimelineBarContent">           
                {# {{timelineBar(objTimeline)}} #}
                {{timelineBarDocs(objTimeline,true)}}
                </div>
            </div>
        </div>
        {# 年份 #}
        <div id="timelineYearContainer" class="timelineYearContainer">
            {% for year in objTimeline.listIdxYears %}  
            <div class="timelineYear"><span>{{year.strTitle}}</span></div>
            {% endfor %}
        </div>
    </div>
    <script>
        {# 时间轴上拉动画 #}
        Object.defineProperties(this,{
            $footer:{
                get:()=>{this._$footer = this._$footer || document.getElementById("dr-footer");return this._$footer;},
            }
        })
        this.$footer.$svgTimelineBar=document.getElementById("svgTimelineBar");
        // 添加一个适当的事件监听器
        this.addEventListener("BS_COVER_WILL_LISTARTISTS", (page)=>{
            document.documentElement.style.setProperty('--footer-size-mobile', "16px");
            document.documentElement.style.setProperty('--footer-size-pc', "16px");
            $footer.classList.add("listArtist");
            $footer.classList.remove("done");
        })
        this.addEventListener("BS_COVER_WILL_TIMELINE", (page)=>{
            document.documentElement.style.setProperty('--footer-size-mobile', "54px");
            document.documentElement.style.setProperty('--footer-size-pc', "106px");
            $footer.classList.add("timeline");
            $footer.classList.remove("done");
        })
        this.addEventListener("BS_COVER_TIMELINE", (page)=>{
            $footer.classList.add("timeline","done");
            $footer.classList.remove("listArtist");
        })
        this.addEventListener("BS_COVER_LISTARTISTS", (page)=>{
            $footer.classList.add("listArtist","done");
            $footer.classList.remove("timeline");
        })
    </script>
    {% include "../js/timelineBar.html" %}
{% endblock%}
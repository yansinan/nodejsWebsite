(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4a89f095"],{"0451":function(t,e,n){var i=n("9cff"),o=n("d1cb"),a=n("839a")("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),i(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},"07c3":function(t,o,a){(function(t){var e=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}o.setTimeout=function(){return new i(n.call(setTimeout,e,arguments),clearTimeout)},o.setInterval=function(){return new i(n.call(setInterval,e,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(e,this._id)},o.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},o.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},o._unrefActive=o.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},a("de8a"),o.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,o.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,a("0288"))},"0e2e":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var e=n("1cab"),i=n.n(e);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var e=n("3e10"),a=n.n(e),e=n("48e8"),r=n.n(e),e=n("32db"),s=n.n(e);function l(t){return function(t){if(i()(t))return o(t)}(t)||function(t){if(void 0!==s.a&&r()(Object(t)))return a()(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?a()(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1705:function(t,e,n){var a=n("eeeb")("iterator"),r=!1;try{var i=[7][a]();i.return=function(){r=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var i=[7],o=i[a]();o.next=function(){return{done:n=!0}},i[a]=function(){return o},t(i)}catch(t){}return n}},"1adb":function(t,e){t.exports={imgFit:function(l,c,d,t){var u=3<arguments.length&&void 0!==t?t:"cover";return new Promise(function(e,t){var n,i=document.createElement("canvas"),o=i.getContext("2d");i.width=c,i.height=d;var a=1;"cover"==u&&(a=Math.max(i.width/l.width,i.height/l.height)),"fill"==u&&(a=Math.min(i.width/l.width,i.height/l.height));var r=i.width/2-l.width/2*a,s=i.height/2-l.height/2*a;o.drawImage(l,r,s,l.width*a,l.height*a),i.toBlob(function(t){n=URL.createObjectURL(t),e({src:n,blob:t})},l.type||"image/jpeg")})}}},"1cab":function(t,e,n){t.exports=n("c236")},"1da5":function(t,e,n){var i=n("8334"),o=n("eeeb")("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?t:a?i(e):"Object"==(t=i(e))&&"function"==typeof e.callee?"Arguments":t}},"20d5":function(t,e,n){var i=n("3813");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("85cb").default)("d7da2f1c",i,!0,{sourceMap:!1,shadowMode:!1})},"2c3d":function(t,e,n){"use strict";var f=n("728a"),i=n("7c2b"),p=n("3212"),m=n("406a"),g=n("5baf"),h=n("f861"),b=n("fdf9"),v=n("acc0");i(i.S+i.F*!n("1705")(function(t){Array.from(t)}),"Array",{from:function(t,e,n){var i,o,a,r,s=p(t),l="function"==typeof this?this:Array,t=arguments.length,c=1<t?e:void 0,d=void 0!==c,u=0,e=v(s);if(d&&(c=f(c,2<t?n:void 0,2)),null==e||l==Array&&g(e))for(o=new l(i=h(s.length));u<i;u++)b(o,u,d?c(s[u],u):s[u]);else for(r=e.call(s),o=new l;!(a=r.next()).done;u++)b(o,u,d?m(r,c,[a.value,u],!0):a.value);return o.length=u,o}})},"330f":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var e=n("e04f"),i=n.n(e);function o(t){var e=i.a.get("sidebarStatus");t.sidebarOpened="1"==e,t.sidebar&&(t.sidebar.opened=t.sidebarOpened)}function a(e){var t=e.$root;setTimeout(function(){o(e)},500),t&&t.eventBus&&(t.eventBus.$on("toggleSideBar",function(t){setTimeout(function(){o(e)},500)}),t.eventBus.$on("toggleDevice",function(t){e.device=t}))}},3813:function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".el-form-item[data-v-a7d35a76]{margin-bottom:0!important}.titleVideo[data-v-a7d35a76]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-size:18px;padding:18px 20px}",""])},"39c8":function(t,e,n){"use strict";n("20d5")},"3e10":function(t,e,n){t.exports=n("cff4")},"406a":function(t,e,n){var a=n("970b");t.exports=function(e,t,n,i){try{return i?t(a(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&a(o.call(e)),t}}},"43b2":function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".el-dialog__title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.el-dialog__title .el-avatar{margin-right:5px;margin-left:5px;min-width:40px}.el-upload-list__item-thumbnail{-o-object-fit:cover;object-fit:cover}",""])},4720:function(t,e,n){"use strict";n("d6c7")},"48e8":function(t,e,n){t.exports=n("b35d")},"4c39":function(t,e){var n,i,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function r(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var s,l=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?l=s.concat(l):d=-1,l.length&&f())}function f(){if(!c){var t=r(u);c=!0;for(var e=l.length;e;){for(s=l,l=[];++d<e;)s&&s[d].run();d=-1,e=l.length}s=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||r(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},"5baf":function(t,e,n){var i=n("43ce"),o=n("eeeb")("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},"66b1":function(t,e,n){var i=n("7c2b");i(i.S,"Array",{isArray:n("45cf")})},"70f2":function(t,e,n){var i=n("0451");t.exports=function(t,e){return new(i(t))(e)}},"726d":function(t,e,n){"use strict";n.r(e);n("ac67"),n("1bc7"),n("32ea");var i=n("34f5"),o=(n("6e69"),n("79b1")),a=(n("a450"),n("e5b4"),n("250d")),r={name:"Album",props:{api:{type:String,default:"/manage/artist/updateAlbum"},label:{type:String,default:"主图"},dialogState:{type:Object,default:{isShow:!1,isEdited:!1,formData:{}}},"on-success":{type:Function,default:null},"before-upload":{type:Function,default:function(t){var e="image/jpeg"===t.type,n="image/png"===t.type,i="image/gif"===t.type,t=t.size/1024/1024<2;return e||n||i||this.$message.error(this.$t("validate.limitUploadImgType")),t||this.$message.error(this.$t("validate.limitUploadImgSize",{size:2})),(e||n||i)&&t}},"on-complete":{type:Function,default:null}},watch:{},data:function(){return{dialogPreviewVisible:!1,dialogImageUrl:"",disabled:!1,nameMod:nameMod,infoImageUploading:{isLoading:!1,name:"",progress:0}}},mounted:function(){},methods:{handleSuccess:function(t,e,n){"function"==typeof this.onSuccess&&this.onSuccess(t,e,n),n.find(function(t){return"success"!=t.status})||(this.handleClose(),this.infoImageUploading.isLoading=!1)},handleRemove:function(){this.infoImageUploading.isLoading=!1},handleBeforeRemove:function(i){var o=this;return new Promise(function(e,n){var t;"success"==i.status?(t={url:i.url,_id:o.dialogState.formData.id},t=new Request("/manage/artist/removeAlbum",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o.infoImageUploading.isLoading=!0,o.infoImageUploading.name="移除",fetch(t).then(function(t){return t.text()}).then(function(t){t=JSON.parse(t);200==t.status?(Object.assign(o.dialogState.formData,t._doc),e(t)):n(t)})):"ready"==i.status&&e()})},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogPreviewVisible=!0},handleClose:function(){"function"==typeof this.onComplete&&this.onComplete(),this.dialogState.isShow=!1,this.dialogState.formData.listImages=[]},handleProgress:function(t,e){this.infoImageUploading.progress=t.percent,this.infoImageUploading.isLoading=e.isLoading||t.percent,this.infoImageUploading.name="上传:"+e.name},submitUpload:function(){this.$refs.upload.submit()},getObjField:function(){return{action:"uploadimage",nameMod:this.nameMod,subPath:this.dialogState.formData.id,_id:this.dialogState.formData.id}}}},s=(n("d5fc"),n("c701")),l=Object(s.a)(r,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",[t("el-dialog",{attrs:{xs:20,title:"图集",width:"80%","close-on-click-modal":!1,visible:e.dialogState.isShow,"before-close":e.handleClose},on:{"update:visible":function(t){return e.$set(e.dialogState,"isShow",t)}}},[t("div",{staticClass:"el-dialog__title",attrs:{slot:"title"},slot:"title"},[t("el-avatar",{attrs:{src:e.dialogState.formData.sImg,fit:"cover"}}),e._v(e._s(e.dialogState.formData.name)+"的"+e._s(e.label)+"\n        ")],1),t("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.infoImageUploading.isLoading,expression:"infoImageUploading.isLoading"}],ref:"upload",attrs:{multiple:"","show-file-list":"true","list-type":"picture-card",accept:"image/png,image/gif,image/jpeg","element-loading-text":"正在"+e.infoImageUploading.name,"auto-upload":!1,action:e.api,"file-list":e.dialogState.formData.listImages,"on-success":e.handleSuccess,"on-progress":e.handleProgress,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"before-remove":e.handleBeforeRemove,"before-upload":e.beforeUpload,data:e.getObjField()}},[t("i",{staticClass:"el-icon-plus",attrs:{slot:"trigger"},slot:"trigger"}),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过2M")])]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),t("el-button",{attrs:{type:"success"},on:{click:e.submitUpload}},[e._v("上 传")])],1)],1),t("el-dialog",{attrs:{visible:e.dialogPreviewVisible},on:{"update:visible":function(t){e.dialogPreviewVisible=t}}},[t("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},[],!1,null,null,null).exports,c=(n("a7e5"),n("0e2e")),d=n("1adb"),u={props:{nameMod:{type:String,default:"rubyeyes"},label:{type:String,default:"链接"},dialogState:{type:Object,default:{isShow:!1,isEdited:!1,formData:{}}}},data:function(){return{listRecords:[],listRecordsNCM:[],strNoticeListNCM:""}},watch:{listRecordsNCM:function(t){0==t.length?this.strNoticeListNCM="网易云音乐MV已全部同步完成":this.strNoticeListNCM=""}},methods:{eBnSyncNCM:function(r){var t=this,s=this;return this.dialogState.formData.idNCM?new Promise(function(o,a){fetch("/api/artist/fetchNCMArtistAlbums?idNCM="+t.dialogState.formData.idNCM+"&_id="+t.dialogState.formData._id).then(function(t){return t.json()}).then(function(t){var e,n,i;200==t.status&&0<t.data.length?(i="",i="剔除重复"+(n=t.data.filter(function(e){var t=s.listRecordsNCM.find(function(t){return e.idAlbumNCM==t.idAlbumNCM})||s.listRecordsNCM.find(function(t){return e.name==t.name})||s.listRecords.find(function(t){return e.idAlbumNCM==t.idAlbumNCM})||s.listRecords.find(function(t){return e.name==t.name});return t&&(i+=e.name+","),!t})).length+"条V,新增:"+i,(e=s.listRecordsNCM).unshift.apply(e,Object(c.a)(n)),s.$message({message:"找到网易"+t.data.length+"条。"+i,type:"success"}),o(t)):(s.$message.error(s.$t("validate.inputCorrect",{label:"网易云音乐获取MV"})),a(r))}).catch(function(t){debugger;s.$message.error(s.$t("validate.inputCorrect",{label:"网易云音乐获取MV"})),a(t)})}):Promise.reject({err:"fail",msg:"no idNCM"})},getListRecords:function(){return Object(a.a)({url:"/api/artist/listRecords",method:"get",params:{_id:this.dialogState.formData._id}})},eDialogOpen:function(e){var n=this,i=this;this.getListRecords().then(function(t){if(200==t.status&&t.data&&0<t.data.length)return i.listRecords=t.data,n.eBnSyncNCM(e)}).then(function(t){}).catch(function(t){debugger})},handleClose:function(){"function"==typeof this.onComplete&&this.onComplete(),this.dialogState.isShow=!1,this.dialogState.formData={},this.dialogState.isEdited=!1,this.listRecordsNCM=[],this.listRecords=[]},uploadBlob:function(i){var o=this;return new Promise(function(e,n){var t=new FormData;t.append("nameMod",o.nameMod),t.append("subPath","records"),t.append("upload_file",i,"imgRecord.jpg");t=new Request("/manage/dr/uploadFiles",{method:"post",body:t});fetch(t).then(function(t){return t.text()}).then(function(t){t=JSON.parse(t);200==t.status?e(t.data.path):n({err:t,msg:"上传错误"})}).catch(function(t){n({err:t,msg:"上传错误"});debugger})})},getPushDataToUpdate:function(t){return{idAlbumNCM:t.idAlbumNCM,name:t.name,alias:t.alias,dateRelease:t.dateRelease,sImg:t.sImg,discription:t.discription,comments:t.comments,listRefs:t.listRefs}},addRecord:function(n){var i=this;n.isLoading=!0,i.uploadBlob(n.blob).then(function(t){return n.sImg=t,Object(a.a)({url:"/manage/record/addOne",method:"post",data:i.getPushDataToUpdate(n)})}).then(function(t){return 200===t.status?(i.$message({message:i.$t("main.addContents"),type:"success"}),Object(a.a)({url:"/manage/record/getOne",method:"get",params:{idAlbumNCM:n.idAlbumNCM}})):(i.$message.error(t.message),Promise.reject(t))}).then(function(t){if(200!==t.status||!t.data)return i.$message.error(t.message),Promise.reject(t);i.$message({message:i.$t("main.seeDetails"),type:"success"}),n.isLoading=!1,Object.assign(n,t.data);var e=i.listRecordsNCM.findIndex(function(t){return t.idAlbumNCM==n.idAlbumNCM});(t=i.listRecords).push.apply(t,Object(c.a)(i.listRecordsNCM.splice(e,1)))}).catch(function(t){debugger;i.$message.error(JSON.stringify(t))})},eEditRecord:function(t){debugger;this.$router.push(this.$root.adminBasePath+"/record/edit/"+t._id)},eImgLoaded:function(t){var t=t.target,e=(t.src.substring(0,7),new Date,t.src),n=this.listRecordsNCM.find(function(t){return t.sImg==e});512!=t.naturalWidth||512!=t.naturalHeight?n&&(t.type="image/jpeg",Object(d.imgFit)(t,512,512).then(function(t){n.sImg=t.src,n.blob=t.blob,n.isFitted=!0})):(n=n||this.listRecords.find(function(t){return t.sImg==e}))&&(n.isFitted=!0)}}},f=(n("39c8"),Object(s.a)(u,function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",[i("el-dialog",{attrs:{xs:20,title:"发行",width:"80%","close-on-click-modal":!1,visible:n.dialogState.isShow,"before-close":n.handleClose},on:{"update:visible":function(t){return n.$set(n.dialogState,"isShow",t)},open:n.eDialogOpen}},[i("div",{staticClass:"el-dialog__title",attrs:{slot:"title"},slot:"title"},[i("el-avatar",{attrs:{src:n.dialogState.formData.sImg,fit:"cover"}}),n._v(n._s(n.dialogState.formData.name)+"的"+n._s(n.label)+"\n  ")],1),i("el-row",{attrs:{gutter:40}},n._l(n.listRecords,function(e,t){return i("el-col",{key:e.idAlbumNCM,staticStyle:{"margin-bottom":"40px"},attrs:{md:6}},[i("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"domain.isLoading"}],attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[i("el-image",{attrs:{span:24,src:e.sImg,fit:n.contain,crossOrigin:"Anonymous"}}),i("div",{staticClass:"titleVideo"},[e.name?i("span",[n._v(n._s(e.name))]):n._e(),i("el-tooltip",{attrs:{content:"编辑专辑内容",placement:"top",effect:"light"}},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit"},on:{click:function(t){return t.preventDefault(),n.eEditRecord(e)}}})],1)],1)],1)],1)}),1),i("el-divider",{attrs:{"content-position":"left"}},[n._v("网易云音乐数据")]),i("el-row",{attrs:{gutter:40}},n._l(n.listRecordsNCM,function(e,t){return i("el-col",{key:e.idAlbumNCM,staticStyle:{"margin-bottom":"40px"},attrs:{md:6}},[i("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"domain.isLoading"}],attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[i("el-image",{directives:[{name:"loading",rawName:"v-loading",value:!e.isFitted,expression:"!domain.isFitted"}],attrs:{span:24,src:e.sImg,fit:n.contain,crossOrigin:"Anonymous"},on:{load:n.eImgLoaded}}),i("div",{staticClass:"titleVideo"},[e.name?i("span",[n._v(n._s(e.name))]):n._e(),i("el-tooltip",{attrs:{content:"复制到本站",placement:"top",effect:"light"}},[i("el-button",{attrs:{type:"success",plain:"",disabled:!e.isFitted,icon:"el-icon-document-copy"},on:{click:function(t){return t.preventDefault(),n.addRecord(e)}}})],1)],1)],1)],1)}),1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:n.handleClose}},[n._v("关 闭")])],1)],1)],1)},[],!1,null,"a7d35a76",null).exports),p={nameMod:String,dataList:Array,pageInfo:Object},m={loading:!1,multipleSelection:[],yellow:{color:"#F7BA2A"},gray:{color:"#CCC"},green:{color:"#13CE66"},red:{color:"#FF4949"},dialogStateLink:{isShow:!1,isEdited:!1,formData:{},strListObjURL:"listLinks"}},r={getList:function(){this.pageInfo.mod=this.nameMod,this.$store.dispatch(this.nameMod+"/getList",this.pageInfo)},handleContentSelectionChange:function(t){t&&0<t.length&&(t=t.map(function(t,e){return t._id}),this.multipleSelection=t,this.$emit("changeContentSelectList",t))},editContentInfo:function(t,e){t=e[t];this.$router.push(this.nameMod+"/edit/"+t._id)},topContent:function(t,e){var n=this,t=e[t],t={_id:t._id,isTop:1==t.isTop?0:1};Object(o.g)(t,this.nameMod).then(function(t){200===t.status?n.getList():n.$message.error(t.data.message||t.message)})},roofContent:function(t,e){var n=this,t=e[t];if(1!=t.isTop)return!1;t={_id:t._id,roofPlacement:"1"==t.roofPlacement?"0":"1"};Object(o.e)(t,this.nameMod).then(function(t){200===t.status?n.getList():n.$message.error(t.data.message||t.message)})},deleteContent:function(t,e){var n=this;this.$confirm(this.$t("main.del_notice"),this.$t("main.scr_modal_title"),{confirmButtonText:this.$t("main.confirmBtnText"),cancelButtonText:this.$t("main.cancelBtnText"),type:"warning"}).then(function(){return Object(o.d)({ids:e[t]._id,draft:"1"},n.nameMod)}).then(function(t){200===t.status?(Object.assign(n.pageInfo),n.getList(),n.$message({message:n.$t("main.scr_modal_del_succes_info"),type:"success"})):n.$message.error(t.data.message||t.message)}).catch(function(){n.$message({type:"info",message:n.$t("main.scr_modal_del_error_info")})})},eListLinksEdit:function(t,e){this.dialogStateLink={isShow:!0,isEdited:!1,formData:e[t],strListObjURL:"listLinks"}},eLink:function(t,e){window.open(t,e)}},u=n("60bb"),g=n.n(u);function h(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p={props:b({},p),data:function(){return b(b({},m),{},{dialogStateAlbum:{isShow:!1,isEdited:!1,formData:{}},dialogStateRecord:{isShow:!1,isEdited:!1,formData:{}},dialogStateMusic:{isShow:!1,isEdited:!1,formData:{},strListObjURL:"listHotMusics"},dialogStateVideos:{isShow:!1,isEdited:!1,formData:{},strListObjURL:"listVideos"}})},components:{Album:l,Record:f,DialogURL:function(){return Promise.all([n.e("chunk-332f0fce"),n.e("chunk-62eb16bc")]).then(n.bind(null,"b7ef"))},ListVideos:function(){return n.e("chunk-27b0d038").then(n.bind(null,"7127"))}},methods:b(b({},r),{},{eAlbumEdit:function(t,e){this.dialogStateAlbum={isShow:!0,isEdited:!1,formData:e[t]}},eRecordEdit:function(t,e){this.dialogStateRecord={isShow:!0,isEdited:!1,formData:e[t]}},eListHotMusicsEdit:function(t,e){this.dialogStateMusic={isShow:!0,isEdited:!1,formData:e[t],strListObjURL:"listHotMusics"}},eListVideosEdit:function(t,e){this.dialogStateVideos={isShow:!0,isEdited:!1,formData:e[t],strListObjURL:"listVideos"}}}),computed:{}},l=(n("7b03"),Object(s.a)(p,function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],ref:"multipleTable",staticClass:"tableBox",staticStyle:{width:"100%"},attrs:{align:"center",data:n.dataList,"tooltip-effect":"dark"},on:{"selection-change":n.handleContentSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"30"}}),i("el-table-column",{attrs:{prop:"isTop",label:n.$t("contents.rec"),width:"30","show-overflow-tooltip":""},scopedSlots:n._u([{key:"default",fn:function(e){return[i("svg-icon",{directives:[{name:"show",rawName:"v-show",value:1===e.row.isTop,expression:"scope.row.isTop === 1"}],style:n.yellow,attrs:{"icon-class":"icon_star_fill"},on:{click:function(t){return n.topContent(e.$index,n.dataList)}}}),i("svg-icon",{directives:[{name:"show",rawName:"v-show",value:1!=e.row.isTop,expression:"scope.row.isTop != 1"}],style:n.gray,attrs:{"icon-class":"icon_star"},on:{click:function(t){return n.topContent(e.$index,n.dataList)}}})]}}])}),i("el-table-column",{attrs:{prop:"roofPlacement",label:n.$t("contents.roofPlacement"),width:"30","show-overflow-tooltip":""},scopedSlots:n._u([{key:"default",fn:function(e){return[i("svg-icon",{directives:[{name:"show",rawName:"v-show",value:1===e.row.isTop&&1==e.row.roofPlacement,expression:"scope.row.isTop === 1 && scope.row.roofPlacement == 1"}],style:n.green,attrs:{"icon-class":"icon_ping"},on:{click:function(t){return n.roofContent(e.$index,n.dataList)}}}),i("svg-icon",{directives:[{name:"show",rawName:"v-show",value:1===e.row.isTop&&1!=e.row.roofPlacement,expression:"scope.row.isTop === 1 && scope.row.roofPlacement != 1"}],style:n.gray,attrs:{"icon-class":"icon_ding"},on:{click:function(t){return n.roofContent(e.$index,n.dataList)}}})]}}])}),i("el-table-column",{attrs:{prop:"name",label:n.$t("docs.name"),"min-width":"250","show-overflow-tooltip":""},scopedSlots:n._u([{key:"default",fn:function(e){return[i("el-avatar",{attrs:{src:e.row.sImg,fit:"cover",size:"large"},on:{click:function(t){return n.eLink("/"+n.nameMod+"/"+e.row._id+".html")}}}),i("el-button",{attrs:{type:"text",size:"large"},on:{click:function(t){return n.editContentInfo(e.$index,n.dataList)}}},[n._v(n._s(e.row.name)+"  "),i("i",{staticClass:"el-icon-edit"})])]}}])}),i("el-table-column",{attrs:{prop:"listImages",label:n.$t("artist.listImages"),width:"80","show-overflow-tooltip":""},scopedSlots:n._u([{key:"default",fn:function(e){return[i("el-badge",{attrs:{value:e.row.listImages.length,hidden:0==e.row.listImages.length,max:99,type:"info"}},[i("el-button",{attrs:{size:"large",plain:"",icon:"el-icon-picture-outline",type:0==e.row.listImages.length?"":"primary",circle:""},on:{click:function(t){return n.eAlbumEdit(e.$index,n.dataList)}}})],1)]}}])}),i("el-table-column",{attrs:{prop:"listRecords",label:n.$t("artist.listRecords"),width:"80","show-overflow-tooltip":""},scopedSlots:n._u([{key:"default",fn:function(e){return[i("el-badge",{attrs:{value:e.row.cntRecords,hidden:0==e.row.cntRecords,max:99,type:"info"}},[i("el-button",{attrs:{size:"large",plain:"",icon:"el-icon-files",type:0==e.row.cntRecords?"":"primary",circle:""},on:{click:function(t){return n.eRecordEdit(e.$index,n.dataList)}}})],1)]}}])}),i("el-table-column",{attrs:{prop:"listVideos",label:n.$t("artist.listVideos"),width:"80","show-overflow-tooltip":""},scopedSlots:n._u([{key:"default",fn:function(e){return[i("el-badge",{attrs:{value:e.row.listVideos.length,hidden:0==e.row.listVideos.length,max:99,type:"info"}},[i("el-button",{attrs:{size:"large",plain:"",icon:"el-icon-video-camera",type:0==e.row.listVideos.length?"":"primary",circle:""},on:{click:function(t){return n.eListVideosEdit(e.$index,n.dataList)}}})],1)]}}])}),i("el-table-column",{attrs:{prop:"listHotMusics",label:n.$t("artist.listHotMusics"),width:"80","show-overflow-tooltip":""},scopedSlots:n._u([{key:"default",fn:function(e){return[i("el-badge",{attrs:{value:e.row.listHotMusics.length,hidden:0==e.row.listHotMusics.length,max:99,type:"info"}},[i("el-button",{attrs:{size:"large",plain:"",icon:"el-icon-headset",type:0==e.row.listHotMusics.length?"":"primary",circle:""},on:{click:function(t){return n.eListHotMusicsEdit(e.$index,n.dataList)}}})],1)]}}])}),i("el-table-column",{attrs:{prop:"listLinks",label:n.$t("artist.listLinks"),width:"80","show-overflow-tooltip":""},scopedSlots:n._u([{key:"default",fn:function(e){return[i("el-badge",{attrs:{value:e.row.listLinks.length,hidden:0==e.row.listLinks.length,max:99,type:"info"}},[i("el-button",{attrs:{size:"large",plain:"",icon:"el-icon-link",type:0==e.row.listLinks.length?"":"primary",circle:""},on:{click:function(t){return n.eListLinksEdit(e.$index,n.dataList)}}})],1)]}}])}),i("el-table-column",{attrs:{label:n.$t("main.dataTableOptions"),width:"200",fixed:"right"},scopedSlots:n._u([{key:"default",fn:function(e){return[i("el-button-group",[i("el-button",{attrs:{icon:"el-icon-view",type:e.row.state?"":"info",disabled:!e.row.state,size:"large"},on:{click:function(t){return n.eLink("/"+n.nameMod+"/"+e.row._id+".html")}}}),i("el-button",{attrs:{icon:"el-icon-edit",size:"large",type:"success",plain:""},on:{click:function(t){return n.editContentInfo(e.$index,n.dataList)}}}),i("el-button",{attrs:{icon:"el-icon-delete",size:"large",type:"danger",plain:""},on:{click:function(t){return n.deleteContent(e.$index,n.dataList)}}})],1)]}}])})],1),i("Album",{attrs:{nameMod:n.nameMod,label:n.$t("artist.listImages"),dialogState:n.dialogStateAlbum,"on-complete":n.getList}}),i("DialogURL",{attrs:{nameMod:n.nameMod,label:n.$t("artist.listHotMusics"),dialogState:n.dialogStateMusic},on:{complete:n.getList}}),i("DialogURL",{attrs:{nameMod:n.nameMod,label:n.$t("artist.listLinks"),dialogState:n.dialogStateLink},on:{complete:n.getList}}),i("ListVideos",{attrs:{"on-complete":n.getList,nameMod:n.nameMod,label:n.$t("artist.listVideos"),dialogState:n.dialogStateVideos}}),i("Record",{attrs:{label:n.$t("artist.listRecords"),dialogState:n.dialogStateRecord,"on-complete":n.getList}})],1)},[],!1,null,null,null).exports),f=(n("07c3"),{props:{nameMod:String,pageInfo:Object,ids:Array,code:String,path:String,device:String},data:function(){return{selectUserList:[],loading:!1,searchkey:"",authPost:"0",authPostOptions:[{value:"0",label:"全部"},{value:"1",label:"待审核"}]}},methods:{eBnAdd:function(){this.$store.dispatch(this.nameMod+"/showContentForm",{isInit:!0}),this.$router.push(this.$root.adminBasePath+"/"+this.nameMod+"/add")},branchDelete:function(){var e=this,n=this;if(g.a.isEmpty(n.ids))return this.$message({type:"info",message:this.$t("validate.selectNull",{label:this.$t("main.target_Item")})}),!1;this.$confirm(this.$t("main.del_notice"),this.$t("main.scr_modal_title"),{confirmButtonText:this.$t("main.confirmBtnText"),cancelButtonText:this.$t("main.cancelBtnText"),type:"warning"}).then(function(){var t=n.ids.join();return Object(o.d)({ids:t},e.nameMod)}).then(function(t){200===t.status?(e.$store.dispatch(e.nameMod+"/getList",{mod:nameMod}),e.$message({message:"".concat(e.$t("main.scr_modal_del_succes_info")),type:"success"})):e.$message.error(t.data.message||t.message)}).catch(function(t){e.$message({type:"info",message:e.$t("main.scr_modal_del_error_info")})})}},components:{}}),r=(n("4720"),Object(s.a)(f,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"dr-toolbar"},[e("el-col",{staticClass:"option-button",attrs:{xs:12,md:6}},[e("el-button",{attrs:{size:"small",type:"primary",plain:"",round:""},on:{click:t.eBnAdd}},[e("svg-icon",{attrs:{"icon-class":"icon_add"}})],1),e("el-button",{attrs:{size:"small",type:"danger",plain:"",round:""},on:{click:t.branchDelete}},[e("svg-icon",{attrs:{"icon-class":"icon_delete"}})],1)],1),e("el-col",{attrs:{xs:12,md:18}},[e("div",{staticClass:"dr-toolbar-right"},[t._v(" ")])])],1)},[],!1,null,null,null).exports),p={props:{device:String,pageInfo:Object,nameMod:String},methods:{renderPageList:function(t,e){var n=0<arguments.length&&void 0!==t?t:1,i=1<arguments.length&&void 0!==e?e:30,o=this.pageInfo?this.pageInfo.searchkey:"",t=this.pageInfo?this.pageInfo.state:"",e=this.pageInfo?this.pageInfo.user:"";this.$store.dispatch(this.nameMod+"/getList",{current:n,pageSize:i,searchkey:o,state:t,userId:e,mod:this.nameMod})},handleSizeChange:function(t){var e=this.pageInfo?this.pageInfo.current:1;this.renderPageList(e,t)},handleCurrentChange:function(t){var e=this.pageInfo?this.pageInfo.pageSize:30;this.renderPageList(t,e)}},data:function(){return{}}},f=(n("ad72"),Object(s.a)(p,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"block dr-pagination"},[e.pageInfo?t("div",["mobile"==e.device?t("div",[t("el-pagination",{attrs:{"current-page":e.pageInfo.current,"page-size":e.pageInfo.pageSize,small:"",layout:"prev, pager, next",total:e.pageInfo.totalItems},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.pageInfo,"current",t)},"update:current-page":function(t){return e.$set(e.pageInfo,"current",t)}}})],1):t("div",[t("el-pagination",{attrs:{"current-page":e.pageInfo.current,"page-sizes":[10,30,50,100],"page-size":e.pageInfo.pageSize,layout:"sizes, prev, pager, next",total:e.pageInfo.totalItems},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.pageInfo,"current",t)},"update:current-page":function(t){return e.$set(e.pageInfo,"current",t)}}})],1)]):e._e()])},[],!1,null,null,null).exports),p=n("5880"),v=n("330f");function y(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}Object(p.createNamespacedHelpers)(nameMod);p={name:"index",data:function(){return{selectlist:[],sidebarOpened:!0,device:"desktop",nameMod:nameMod}},components:{DataTable:l,TopBar:r,Pagination:f},methods:{changeSelect:function(t){this.selectlist=t}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({classObj:function(){return{hideSidebar:!this.sidebarOpened,openSidebar:this.sidebarOpened,withoutAnimation:"false",mobile:"mobile"===this.device}}},Object(p.mapGetters)({dataList:"getterListData"})),mounted:function(){Object(v.a)(this),this.$store.dispatch(nameMod+"/getList",{mod:nameMod})}},p=Object(s.a)(p,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{class:t.classObj},[e("div",{staticClass:"main-container"},[e("el-row",{staticClass:"dr-datatable"},[e("el-col",{attrs:{span:24}},[e("TopBar",{attrs:{nameMod:t.nameMod,ids:t.selectlist,pageInfo:t.dataList.pageInfo}}),e("DataTable",{attrs:{nameMod:t.nameMod,dataList:t.dataList.docs,pageInfo:t.dataList.pageInfo},on:{changeContentSelectList:t.changeSelect}}),e("Pagination",{attrs:{pageInfo:t.dataList.pageInfo,nameMod:t.nameMod}})],1)],1)],1)])},[],!1,null,null,null),e.default=p.exports},"72f1":function(t,e,n){var i=n("1da5"),o=n("eeeb")("iterator"),a=n("43ce");t.exports=n("ce99").isIterable=function(t){t=Object(t);return void 0!==t[o]||"@@iterator"in t||a.hasOwnProperty(i(t))}},"7b03":function(t,e,n){"use strict";n("d47a")},9525:function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".option-button{display:inline-block}",""])},"9e58":function(t,e,n){var i=n("43b2");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("85cb").default)("5667eab8",i,!0,{sourceMap:!1,shadowMode:!1})},a450:function(t,e,n){var i=n("bb8b").f,o=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in o||n("26df")&&i(o,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},a620:function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".tableBox th{height:100%}.tableBox td{height:80px}.tableBox .cell{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center}.tableBox .cell .el-button--text{color:#303133;font-size:18px;line-height:2.5em}.tableBox .cell .el-avatar{margin-right:5px;margin-left:5px;min-width:40px}.tableBox .cell .containerTag{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:start;-webkit-box-align:start;-ms-flex-align:start;align-items:start}.tableBox .cell .containerTag .el-tag{margin-top:20px;margin-right:10px}.fa-star,.fa-thumbs-up{cursor:pointer}.fa-star-o,.fa-thumbs-o-up{cursor:pointer}",""])},a7e5:function(t,e,n){"use strict";var i=n("e99b"),o=n("e9aa")(6),a="findIndex",r=!0;a in[]&&Array(1)[a](function(){r=!1}),i(i.P+i.F*r,"Array",{findIndex:function(t,e){return o(this,t,1<arguments.length?e:void 0)}}),n("87b2")(a)},a864:function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".dr-pagination{text-align:center;margin:15px auto}",""])},acc0:function(t,e,n){var i=n("1da5"),o=n("eeeb")("iterator"),a=n("43ce");t.exports=n("ce99").getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||a[i(t)]}},ad72:function(t,e,n){"use strict";n("fea7")},b35d:function(t,e,n){n("383f"),n("87a4"),t.exports=n("72f1")},c236:function(t,e,n){n("66b1"),t.exports=n("ce99").Array.isArray},cff4:function(t,e,n){n("87a4"),n("2c3d"),t.exports=n("ce99").Array.from},d1cb:function(t,e,n){var i=n("cea2");t.exports=Array.isArray||function(t){return"Array"==i(t)}},d47a:function(t,e,n){var i=n("a620");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("85cb").default)("2fc13288",i,!0,{sourceMap:!1,shadowMode:!1})},d5fc:function(t,e,n){"use strict";n("9e58")},d6c7:function(t,e,n){var i=n("9525");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("85cb").default)("e138365e",i,!0,{sourceMap:!1,shadowMode:!1})},de8a:function(t,e,n){(function(t,m){!function(n,i){"use strict";var o,a,e,r,s,l,c,d,t;function u(t){delete a[t]}function f(t){if(e)setTimeout(f,0,t);else{var n=a[t];if(n){e=!0;try{!function(){var t=n.callback,e=n.args;switch(e.length){case 0:t();break;case 1:t(e[0]);break;case 2:t(e[0],e[1]);break;case 3:t(e[0],e[1],e[2]);break;default:t.apply(i,e)}}()}finally{u(t),e=!1}}}}function p(t){t.source===n&&"string"==typeof t.data&&0===t.data.indexOf(d)&&f(+t.data.slice(d.length))}n.setImmediate||(o=1,e=!(a={}),r=n.document,t=(t=Object.getPrototypeOf&&Object.getPrototypeOf(n))&&t.setTimeout?t:n,s="[object process]"==={}.toString.call(n.process)?function(t){m.nextTick(function(){f(t)})}:function(){if(n.postMessage&&!n.importScripts){var t=!0,e=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=e,t}}()?(d="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",p,!1):n.attachEvent("onmessage",p),function(t){n.postMessage(d+t,"*")}):n.MessageChannel?((c=new MessageChannel).port1.onmessage=function(t){f(t.data)},function(t){c.port2.postMessage(t)}):r&&"onreadystatechange"in r.createElement("script")?(l=r.documentElement,function(t){var e=r.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,l.removeChild(e),e=null},l.appendChild(e)}):function(t){setTimeout(f,0,t)},t.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];return t={callback:t,args:e},a[o]=t,s(o),o++},t.clearImmediate=u)}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n("0288"),n("4c39"))},e5b4:function(t,e,n){"use strict";var i=n("e99b"),o=n("e9aa")(5),a="find",r=!0;a in[]&&Array(1)[a](function(){r=!1}),i(i.P+i.F*r,"Array",{find:function(t,e){return o(this,t,1<arguments.length?e:void 0)}}),n("87b2")(a)},e9aa:function(t,e,n){var y=n("1e4d"),w=n("1b96"),x=n("8078"),S=n("201c"),i=n("70f2");t.exports=function(u,t){var f=1==u,p=2==u,m=3==u,g=4==u,h=6==u,b=5==u||h,v=t||i;return function(t,e,n){for(var i,o,a=x(t),r=w(a),s=y(e,n,3),l=S(r.length),c=0,d=f?v(t,l):p?v(t,0):void 0;c<l;c++)if((b||c in r)&&(o=s(i=r[c],c,a),u))if(f)d[c]=o;else if(o)switch(u){case 3:return!0;case 5:return i;case 6:return c;case 2:d.push(i)}else if(g)return!1;return h?-1:m||g?g:d}}},fdf9:function(t,e,n){"use strict";var i=n("597a"),o=n("d48a");t.exports=function(t,e,n){e in t?i.f(t,e,o(0,n)):t[e]=n}},fea7:function(t,e,n){var i=n("a864");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("85cb").default)("750250ee",i,!0,{sourceMap:!1,shadowMode:!1})}}]);